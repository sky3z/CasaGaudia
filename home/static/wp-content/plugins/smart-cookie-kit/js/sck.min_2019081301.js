;/* Nicola Modugno, https://it.linkedin.com/in/modugnonicola */ var NMOD_SCK_Helper=new function(){"use strict";var p=this;window.dataLayer=window.dataLayer||[],this.first_cookie_ref,this.actual_cookie={},this.unavailableElementsClass="BlockedForCookiePreferences",this.blockedElementsClass="BlockedBySmartCookieKit",this.consent_on_scroll_enabled=0,this.consent_on_scroll_triggered=!1,this.bannerHandler=function(e,t){var o;if(e=e||"",""!=(t=t||""))if(p.showLog("Closing "+t+" cookie banner..."),o=document.querySelector("#"+t))switch(o.classList?o.classList.remove("visible"):o.className=o.className.replace("visible",""),t){case"SCK_MaximizedBanner":1==p.enable_consent_on_scroll&&(p.showLog("Unbinding ACCEPT by SCROLL on maximized banner..."),p.removeEvent(window,"scroll",p.manageAcceptanceOnScroll),p.enable_consent_on_scroll=0)}else p.showLog(t+" banner not found.");if(""!=e)if(p.showLog("Opening "+e+" cookie banner..."),o=document.querySelector("#"+e)){switch(e){case"SCK_MaximizedBanner":p.enable_consent_on_scroll=NMOD_SCK_Options.acceptPolicyOnScroll;var s=o.querySelector("#SCK_MaximizedBanner .SCK_Accept"),a=o.querySelector("#SCK_MaximizedBanner .SCK_Close");s.innerHTML=s.getAttribute("data-textaccept"),a.innerHTML=a.getAttribute("data-textdisabled"),void 0!==p.actual_cookie.settings&&(p.enable_consent_on_scroll=0,p.actual_cookie.settings.statistics&&p.actual_cookie.settings.profiling&&(s.innerHTML=s.getAttribute("data-textaccepted"),a.innerHTML=a.getAttribute("data-textdisable"))),1==p.enable_consent_on_scroll&&(p.showLog("Binding ACCEPT by SCROLL on maximized banner..."),p.consent_on_scroll_triggered=!1,p.addEvent(window,"scroll",p.manageAcceptanceOnScroll))}o.classList?o.classList.add("visible"):(""!=o.className&&(o.className+=" "),o.className+="visible")}else p.showLog(e+" banner not found.")},this.manageSettingsCookie=function(e,t,o,s){p.showLog("Cookie settings updated by "+e+".");var a=Date.now();if(void 0!==p.actual_cookie.settings&&p.actual_cookie.settings.technical==t&&p.actual_cookie.settings.statistics==o&&p.actual_cookie.settings.profiling==s)return p.showLog("Nothing to save, same preferences here!"),!1;if(1==NMOD_SCK_Options.saveLogToServer){p.showLog("Saving a log on the server...");var i=new XMLHttpRequest;i.open("POST",NMOD_SCK_Options.remoteEndpoint,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),i.send("action=nmod_sck_privacy_updated&update_type="+e+"&ref="+a+"&first_ref="+p.actual_cookie.first_ref+"&settings[technical]="+(t?"1":"0")+"&settings[statistics]="+(o?"1":"0")+"&settings[profiling]="+(s?"1":"0"))}var n={technical:t,statistics:o,profiling:s};return p.showLog("Saving preference cookie on the client..."),p.setCookie(NMOD_SCK_Options.acceptedCookieName,{settings:n,ref:a.toString(),first_ref:p.actual_cookie.first_ref,ver:"2.0.0"},NMOD_SCK_Options.acceptedCookieLife),window.dataLayer&&(p.showLog('Firing standard custom event "cookiePreferencesUpdated"...'),window.dispatchEvent(new CustomEvent("cookiePreferencesUpdated",n)),p.showLog('Firing GTM custom event "cookiePreferencesUpdated" (this does not mean that GTM is running!).'),window.dataLayer.push({event:"cookiePreferencesUpdated",settings:n})),p.optedIn(n,!1),!0},this.optedIn=function(e,t){void 0===e.statistics&&(e.statistics=!1),void 0===e.profiling&&(e.profiling=!1),window.dataLayer&&(p.actual_cookie.settings.statistics!=e.accepted_statistics&&(e.statistics?(p.showLog('Firing standard custom event "statisticsCookiesEnabled"...'),window.dispatchEvent(new CustomEvent("statisticsCookiesEnabled")),p.showLog('Firing GTM custom event "statisticsCookiesEnabled" (this does not mean that GTM is running!)...'),window.dataLayer.push({event:"statisticsCookiesEnabled"})):(p.showLog('Firing standard custom event "statisticsCookiesDisabled"...'),window.dispatchEvent(new CustomEvent("statisticsCookiesDisabled")),p.showLog('Firing GTM custom event "statisticsCookiesDisabled" (this does not mean that GTM is running!).'),window.dataLayer.push({event:"statisticsCookiesDisabled"}))),p.actual_cookie.settings.statistics!=e.accepted_profiling&&(e.profiling?(p.showLog('Firing standard custom event "profilingCookiesEnabled"...'),window.dispatchEvent(new CustomEvent("profilingCookiesEnabled")),p.showLog('Firing GTM custom event "profilingCookiesEnabled" (this does not mean that GTM is running!).'),window.dataLayer.push({event:"profilingCookiesEnabled"})):(p.showLog('Firing standard custom event "profilingCookiesDisabled"...'),window.dispatchEvent(new CustomEvent("profilingCookiesDisabled")),p.showLog('Firing GTM custom event "profilingCookiesDisabled" (this does not mean that GTM is running!).'),window.dataLayer.push({event:"profilingCookiesDisabled"})))),p.showLog("Checking blocked resources for current settings...");for(var o=document.querySelectorAll("."+p.blockedElementsClass),s=0;s<o.length;s++)switch(p.showLog("Printing blocked item...",o[s]),o[s].getAttribute("data-sck_type")){case"1":if(p.showLog("Checking to unlock: "+o[s].getAttribute("data-sck_ref")),p.canUnlock(o[s].getAttribute("data-sck_unlock"),e)){if((n=document.createElement("script")).appendChild(document.createTextNode(o[s].innerHTML)),document.body.appendChild(n),1==NMOD_SCK_Options.managePlaceholders&&o[s].getAttribute("data-sck_index")){for(var a=(c=document.querySelectorAll("."+p.unavailableElementsClass+"_"+o[s].getAttribute("data-sck_index"))).length-1;0<=a;a--)c[a].remove();for(var i=(r=document.querySelectorAll("."+p.blockedElementsClass+"_"+o[s].getAttribute("data-sck_index"))).length-1;0<=i;i--)r[i].removeAttribute("data-sck_type"),r[i].classList?(r[i].classList.remove(p.blockedElementsClass),r[i].classList.remove(p.blockedElementsClass+"_"+o[s].getAttribute("data-sck_index"))):r[i].className=r[i].className.replace("/\b"+p.blockedElementsClass+"|"+p.blockedElementsClass+"_"+o[s].getAttribute("data-sck_index")+"\b/g","")}o[s].remove()}else p.showLog("Item does not meet requirements.");break;case"2":if(p.showLog("Checking to unlock: "+o[s].getAttribute("data-sck_ref")),p.canUnlock(o[s].getAttribute("data-sck_unlock"),e)){var n;p.showLog("Loading: "+o[s].getAttribute("data-blocked")),(n=document.createElement("script")).src=o[s].getAttribute("data-blocked"),n.async=!1,n.defer=!1,o[s].removeAttribute("data-blocked"),o[s].removeAttribute("data-sck_ref"),o[s].removeAttribute("data-sck_type"),o[s].removeAttribute("src"),o[s].removeAttribute("async"),o[s].removeAttribute("defer");for(var l=o[s].attributes.length-1;0<=l;l--)n.setAttribute(o[s].attributes[l].name,o[s].attributes[l].value);if(1==NMOD_SCK_Options.managePlaceholders&&o[s].getAttribute("data-sck_index")){var c;for(a=(c=document.querySelectorAll("."+p.unavailableElementsClass+"_"+o[s].getAttribute("data-sck_index"))).length-1;0<=a;a--)c[a].remove();var r;for(i=(r=document.querySelectorAll("."+p.blockedElementsClass+"_"+o[s].getAttribute("data-sck_index"))).length-1;0<=i;i--)r[i].removeAttribute("data-sck_type"),r[i].classList?(r[i].classList.remove(p.blockedElementsClass),r[i].classList.remove(p.blockedElementsClass+"_"+o[s].getAttribute("data-sck_index"))):r[i].className=r[i].className.replace("/\b"+p.blockedElementsClass+"|"+p.blockedElementsClass+"_"+o[s].getAttribute("data-sck_index")+"\b/g","")}o[s].remove(),document.body.appendChild(n)}else p.showLog("Item does not meet requirements.");break;case"3":case"4":p.showLog("Checking to unlock: "+o[s].getAttribute("data-sck_ref")),p.canUnlock(o[s].getAttribute("data-sck_unlock"),e)?(p.showLog("Loading: "+o[s].getAttribute("data-blocked")),o[s].setAttribute("src",o[s].getAttribute("data-blocked")),o[s].removeAttribute("data-blocked"),o[s].classList?o[s].classList.remove(p.blockedElementsClass):o[s].className=o[s].className.replace("/\b"+p.blockedElementsClass+"\b/g",""),1==NMOD_SCK_Options.managePlaceholders&&o[s].getAttribute("data-sck_index")&&document.querySelector("."+p.unavailableElementsClass+"_"+o[s].getAttribute("data-sck_index")).remove()):p.showLog("Item does not meet requirements.");break;case"5":p.showLog("booohh!");break;case"6":p.showLog("Item to ignore.");break;default:p.showLog("Item not supported!")}t?window.onload=p.checkServiceCompatibility:setTimeout(p.checkServiceCompatibility,1200),p.showLog("Blocked resources check done.")},this.canUnlock=function(e,t){if(0==(e=e.split(",")).length)return!1;for(var o=e.length-1;0<=o;o--){if(e[o]=e[o].trim(),p.showLog("Checking "+e[o]+" condition..."),void 0===t[e[o]])return!1;if(p.showLog("Cookie preference for "+e[o]+" is: "+t[e[o]]),1!=t[e[o]])return!1}return p.showLog("Conditions passed!"),!0},this.checkServiceCompatibility=function(){if(void 0!==p.actual_cookie)if({}!=p.actual_cookie)if(void 0!==p.actual_cookie.settings){if(0!=NMOD_SCK_Options.checkCompatibility.length){var e=[];p.showLog("Searching for compatibility tasks to run...");for(var t=0;t<NMOD_SCK_Options.checkCompatibility.length;t++){var o=!1;if(p.showLog("Check compatibility for "+NMOD_SCK_Options.checkCompatibility[t].ref+".."),p.canUnlock(NMOD_SCK_Options.checkCompatibility[t].unlock,p.actual_cookie.settings))switch(NMOD_SCK_Options.checkCompatibility[t].ref){case"Google Maps":if("function"==typeof window.et_pb_map_init){p.showLog("It seems that this page was created with a Divi builder.");var s=document.querySelectorAll(".et_pb_map_container_"+p.blockedElementsClass);if(0!=s.length){p.showLog("Trying to init maps...");for(var a=0;a<s.length;a++){if(1==NMOD_SCK_Options.managePlaceholders&&s[a].getAttribute("data-sck_index"))for(var i=(_=document.querySelectorAll("."+p.unavailableElementsClass+"_"+s[a].getAttribute("data-sck_index"))).length-1;0<=i;i--)_[i].remove();s[a].classList?(s[a].classList.remove("et_pb_map_container_"+p.blockedElementsClass),s[a].classList.remove(p.blockedElementsClass)):s[a].className=s[a].className.replace("/\bet_pb_map_container_"+p.blockedElementsClass+"|"+p.blockedElementsClass+"\b/g",""),s[a].removeAttribute("data-sck_type"),s[a].removeAttribute("data-sck_index"),s[a].removeAttribute("data-sck_ref"),s[a].removeAttribute("data-sck_unlock");try{window.et_pb_map_init(jQuery(s[a])),o=!0}catch(e){p.showLog("",e)}}p.showLog("Init done.")}else p.showLog("No maps to init.")}if(jQuery.fn.aviaMaps){p.showLog("It seems that this page was created with a Avia builder.");var n=document.querySelectorAll(".avia-google-map-container_"+p.blockedElementsClass);if(0!=n.length){p.showLog("Trying to init maps...");for(a=n.length-1;0<=a;a--){if(1==NMOD_SCK_Options.managePlaceholders&&n[a].getAttribute("data-sck_index"))for(i=(_=document.querySelectorAll("."+p.unavailableElementsClass+"_"+n[a].getAttribute("data-sck_index"))).length-1;0<=i;i--)_[i].remove();n[a].classList?(n[a].classList.remove("avia-google-map-container_"+p.blockedElementsClass),n[a].classList.remove(p.blockedElementsClass),n[a].classList.add("avia-google-map-container")):(n[a].className=n[a].className.replace("/\b.avia-google-map-container_"+p.blockedElementsClass+"|"+p.blockedElementsClass+"\b/g",""),n[a].className+=" avia-google-map-container"),n[a].removeAttribute("data-sck_type"),n[a].removeAttribute("data-sck_index"),n[a].removeAttribute("data-sck_ref"),n[a].removeAttribute("data-sck_unlock")}try{jQuery(".avia-google-map-container","body").aviaMaps(),o=!0}catch(e){p.showLog("",e)}p.showLog("Init done.")}else p.showLog("No maps to init.")}if(0!=document.querySelectorAll(".fusion-google-map_"+p.blockedElementsClass).length){p.showLog("It seems that this page was created with a Fusion builder.");var l=document.querySelectorAll(".fusion-google-map_"+p.blockedElementsClass);if(0!=l.length){p.showLog("Trying to init maps...");for(a=0;a<l.length;a++){if(1==NMOD_SCK_Options.managePlaceholders&&l[a].getAttribute("data-sck_index"))for(i=(_=document.querySelectorAll("."+p.unavailableElementsClass+"_"+l[a].getAttribute("data-sck_index"))).length-1;0<=i;i--)_[i].remove();l[a].classList?(l[a].classList.remove("fusion-google-map_"+p.blockedElementsClass),l[a].classList.remove(p.blockedElementsClass)):l[a].className=l[a].className.replace("/\bfusion-google-map_"+p.blockedElementsClass+"|"+p.blockedElementsClass+"\b/g",""),l[a].removeAttribute("data-sck_type"),l[a].removeAttribute("data-sck_index"),l[a].removeAttribute("data-sck_ref"),l[a].removeAttribute("data-sck_unlock");try{var c=l[a].parentNode.querySelector("script");c.innerHTML=c.innerHTML.replace(/google\.maps\.event\.addDomListener\( ?window, ?'load', ?(.*?) ?\)\;/g,"$1();"),(b=document.createElement("script")).appendChild(document.createTextNode(c.innerHTML)),document.body.appendChild(b),c.remove(),o=!0}catch(e){p.showLog("",e)}}p.showLog("Init done.")}else p.showLog("No maps to init.")}if("object"==typeof MK&&"object"==typeof MK.core&&"function"==typeof MK.core.initAll){p.showLog("It seems that this page was created with a WPBackery (Visual Composer) builder.");var r=document.querySelectorAll(".mk-advanced-gmaps.js-el_"+p.blockedElementsClass);if(0!=r.length){p.showLog("Trying to init maps...");for(a=0;a<r.length;a++){if(1==NMOD_SCK_Options.managePlaceholders&&r[a].getAttribute("data-sck_index"))for(i=(_=document.querySelectorAll("."+p.unavailableElementsClass+"_"+r[a].getAttribute("data-sck_index"))).length-1;0<=i;i--)_[i].remove();r[a].classList?(r[a].classList.remove("js-el_"+p.blockedElementsClass),r[a].classList.remove(p.blockedElementsClass),r[a].classList.add("js-el")):(r[a].className=r[a].className.replace("/\bjs-el_"+p.blockedElementsClass+"|"+p.blockedElementsClass+"\b/g",""),r[a].className+=" js-el"),r[a].removeAttribute("data-sck_type"),r[a].removeAttribute("data-sck_index"),r[a].removeAttribute("data-sck_ref"),r[a].removeAttribute("data-sck_unlock");try{MK.core.initAll(r[a].parentNode),o=!0}catch(e){p.showLog("",e)}}p.showLog("Init done.")}else p.showLog("No maps to init.")}if("object"==typeof xData&&"object"==typeof xData.base&&"function"==typeof xData.base.processElements){p.showLog("It seems that this page was created with a Cornerstone builder.");var d=document.querySelectorAll(".x-google-map_"+p.blockedElementsClass);if(0!=d.length){p.showLog("Trying to init maps...");for(a=0;a<d.length;a++){if(1==NMOD_SCK_Options.managePlaceholders&&d[a].getAttribute("data-sck_index"))for(i=(_=document.querySelectorAll("."+p.unavailableElementsClass+"_"+d[a].getAttribute("data-sck_index"))).length-1;0<=i;i--)_[i].remove();d[a].classList?(d[a].classList.remove("x-google-map_"+p.blockedElementsClass),d[a].classList.remove(p.blockedElementsClass)):d[a].className=d[a].className.replace("/\bx-google-map_"+p.blockedElementsClass+"|"+p.blockedElementsClass+"\b/g",""),d[a].removeAttribute("data-sck_type"),d[a].removeAttribute("data-sck_index"),d[a].removeAttribute("data-sck_ref"),d[a].removeAttribute("data-sck_unlock"),d[a].outerHTML=d[a].outerHTML.replace("data-x-element_"+p.blockedElementsClass.toLowerCase(),"data-x-element")}try{xData.base.processElements(),o=!0}catch(e){p.showLog("",e)}p.showLog("Init done.")}else p.showLog("No maps to init.")}if(0!=document.querySelectorAll(".initMap_"+p.blockedElementsClass).length){p.showLog("It seems that this page contains scripts that init maps.");var m=document.querySelectorAll(".initMap_"+p.blockedElementsClass);if(0!=m.length){p.showLog("Trying to run init scripts...");for(a=0;a<m.length;a++){if(1==NMOD_SCK_Options.managePlaceholders&&m[a].getAttribute("data-sck_index"))for(i=(_=document.querySelectorAll("."+p.unavailableElementsClass+"_"+m[a].getAttribute("data-sck_index"))).length-1;0<=i;i--)_[i].remove();m[a].classList?(m[a].classList.remove("initMap_"+p.blockedElementsClass),m[a].classList.remove(p.blockedElementsClass)):m[a].className=m[a].className.replace("/\binitMap_"+p.blockedElementsClass+"|"+p.blockedElementsClass+"\b/g",""),m[a].removeAttribute("data-sck_type"),m[a].removeAttribute("data-sck_index"),m[a].removeAttribute("data-sck_ref"),m[a].removeAttribute("data-sck_unlock");try{var g=m[a].innerHTML;g=(g=g.replace(/google\.maps\.event\.addDomListener\( ?window, ?'load', ?(.*?) ?\)\;/g,"$1();")).replace(/window\.onload ?\= ?(.*?)\(\)\;/g,"$1();"),(b=document.createElement("script")).appendChild(document.createTextNode(g)),document.body.appendChild(b),m[a].remove(),o=!0}catch(e){p.showLog("",e)}}p.showLog("Init done.")}else p.showLog("No maps to init.")}if("function"==typeof showGoogleMap){p.showLog("It seems that the theme used on this site is Bridge.");var u=document.querySelectorAll(".google_map_shortcode_holder_"+p.blockedElementsClass);if(0!=u.length){p.showLog("Trying to init maps...");for(a=u.length-1;0<=a;a--){if(1==NMOD_SCK_Options.managePlaceholders&&u[a].getAttribute("data-sck_index")){var _;for(i=(_=document.querySelectorAll("."+p.unavailableElementsClass+"_"+u[a].getAttribute("data-sck_index"))).length-1;0<=i;i--)_[i].remove()}u[a].classList?(u[a].classList.remove("google_map_shortcode_holder_"+p.blockedElementsClass),u[a].classList.remove(p.blockedElementsClass),u[a].classList.add("google_map_shortcode_holder")):(u[a].className=u[a].className.replace("/\b.google_map_shortcode_holder_"+p.blockedElementsClass+"|"+p.blockedElementsClass+"\b/g",""),u[a].className+=" google_map_shortcode_holder"),u[a].removeAttribute("data-sck_type"),u[a].removeAttribute("data-sck_index"),u[a].removeAttribute("data-sck_ref"),u[a].removeAttribute("data-sck_unlock")}try{showGoogleMap(),o=!0}catch(e){p.showLog("",e)}p.showLog("Init done.")}else p.showLog("No maps to init.")}p.showLog("Google Maps check done.");break;case"Google Tag Manager by DuracellTomi":var h=document.querySelector("script."+p.blockedElementsClass);if(h){p.showLog("This page contains DuracellTomi GTM init script.");try{var b;(b=document.createElement("script")).appendChild(document.createTextNode(h.innerHTML)),document.body.appendChild(b),h.remove(),o=!0}catch(e){p.showLog("",e)}p.showLog("Init done.")}p.showLog("Google Tag Manager by DuracellTomi check done.")}o||e.push(NMOD_SCK_Options.checkCompatibility[t])}p.showLog("Compatibility check done."),NMOD_SCK_Options.checkCompatibility=e}}else p.showLog("It seems that the cookie settings are not set... Could not run compatibility check.");else p.showLog("It seems that the cookie is not set... Could not run compatibility check.");else p.showLog("It seems that the cookie is not loaded... Could not run compatibility check.")},this.addEvent=function(e,t,o){e&&(e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o))},this.removeEvent=function(e,t,o){e&&(e.removeEventListener?e.removeEventListener(t,o):e.attachEvent&&e.detachEvent("on"+t,o))},this.getPolicyCookie=function(e){e=e||NMOD_SCK_Options.acceptedCookieName;var t=document.cookie;if(""!==t)for(var o=t.split("; "),s=0;s<o.length;s++){var a=o[s],i=a.indexOf("=");if(e==a.substring(0,i)){var n=a.substring(i+1);return n=decodeURIComponent(n),JSON.parse(n)}}return{}},this.delPolicyCookie=function(e){e=e||NMOD_SCK_Options.acceptedCookieName,p.setCookie(e,"",-1)},this.setCookie=function(e,t,o){var s=new Date,a=new Date(s.getTime()+24*parseInt(o)*60*60*1e3),i=e+"="+JSON.stringify(t)+"; expires="+a.toGMTString()+"; path=/";document.cookie=i,p.actual_cookie=p.getPolicyCookie()},this.showLog=function(e,t){e=e||"",t=t||!1,1==NMOD_SCK_Options.debugMode&&(e&&console.log("Smart Cookie Kit - "+e),t&&console.log(t))},this.manageAcceptanceOnScroll=function(){0==p.consent_on_scroll_triggered&&200<(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)&&(p.consent_on_scroll_triggered=!0,p.manageSettingsCookie("SCROLL",!0,!0,!0),p.bannerHandler("SCK_MinimizedBanner","SCK_MaximizedBanner"))},this.init=function(){if(p.showLog("Debug mode enabled!"),p.showLog("",NMOD_SCK_Options),p.showLog("Running Smart Cookie Kit..."),p.showLog("Searching for tags to manage..."),0!=NMOD_SCK_Options.searchTags.length&&1==NMOD_SCK_Options.managePlaceholders)for(var e=document.querySelector("#SCK_Placeholder").innerHTML,t=NMOD_SCK_Options.searchTags.length-1;0<=t;t--)for(var o=NMOD_SCK_Options.searchTags[t].tags.length-1;0<=o;o--){var s=document.querySelectorAll(NMOD_SCK_Options.searchTags[t].tags[o]);if(0!=s.length)for(var a=s.length-1;0<=a;a--){var i=document.createElement("template");i.innerHTML=e.replace("%REF_NUM%",NMOD_SCK_Options.searchTags[t].ref).replace("%SERVICE_NAME%",NMOD_SCK_Options.searchTags[t].name);var n=i.content.firstChild;s[a].parentNode.insertBefore(n,s[a]),s[a].setAttribute("data-sck_type",6),s[a].classList?s[a].classList.add(p.blockedElementsClass,p.blockedElementsClass+"_"+NMOD_SCK_Options.searchTags[t].ref):s[a].className+=" "+p.blockedElementsClass+" "+p.blockedElementsClass+"_"+NMOD_SCK_Options.searchTags[t].ref}}p.showLog("Binding ACCEPT BUTTON on maximized banner..."),p.addEvent(document.querySelector("#SCK_MaximizedBanner .SCK_Accept"),"click",function(e){e.preventDefault(),p.manageSettingsCookie("ACCEPT BUTTON",!0,!0,!0),p.bannerHandler("SCK_MinimizedBanner","SCK_MaximizedBanner")}),p.showLog("Binding CANCEL BUTTON on maximized banner..."),p.addEvent(document.querySelector("#SCK_MaximizedBanner .SCK_Close"),"click",function(e){e.preventDefault();var t=p.manageSettingsCookie("Cancel BUTTON",!0,!1,!1);p.bannerHandler("SCK_MinimizedBanner","SCK_MaximizedBanner"),t&&1==NMOD_SCK_Options.reloadPageWhenUserDisablesCookies&&(p.showLog("Reloading page in 1 second..."),setTimeout(function(){location.reload()},1e3))}),p.showLog("Binding OPEN BUTTON on minimized banner (if necessary)..."),p.addEvent(document.querySelector("#SCK_MinimizedBanner .SCK_Open"),"click",function(e){e.preventDefault(),p.bannerHandler("SCK_MaximizedBanner","SCK_MinimizedBanner")}),p.showLog("Binding OPEN LINK on placeholders...");for(var l=document.querySelectorAll(".OpenCookiePreferences"),c=l.length-1;0<=c;c--)p.addEvent(l[c],"click",function(e){e.preventDefault(),p.bannerHandler("SCK_MaximizedBanner","SCK_MinimizedBanner")});p.showLog("Searching for saved preferences...");var r=p.getPolicyCookie(NMOD_SCK_Options.acceptedCookieName_v1);!0===r?(p.showLog("Old policy cookie found (v.1.0). Deleting it.."),p.delPolicyCookie(NMOD_SCK_Options.acceptedCookieName_v1)):void 0!==r.accepted&&(p.showLog("Old policy cookie found (v.1.2). Deleting it.."),p.delPolicyCookie(NMOD_SCK_Options.acceptedCookieName_v1)),r=p.getPolicyCookie();var d="SCK_MaximizedBanner";if(p.actual_cookie.first_ref=Date.now(),{}!=r){if(void 0!==r.ver)switch(r.ver){case"2.0.0":var m=new Date(Number(r.ref));p.showLog("Policy cookie found (v.2.2). Settings last update: "+m.toLocaleDateString()+" "+m.toLocaleTimeString()),d="SCK_MinimizedBanner",p.actual_cookie=r,p.optedIn(p.actual_cookie.settings,!0)}}else p.showLog("Policy cookie not found.");0==NMOD_SCK_Options.runCookieKit&&(d="SCK_MinimizedBanner",p.showLog("Banner disabled on this page.")),p.bannerHandler(d)}};"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o});